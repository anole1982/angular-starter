webpackJsonp([5],{MwwH:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("WVK8"),o=e("P9VG"),u=e("fZrN");console.log("`Web rtc` component loaded asynchronously");var i=(function(){function n(n){this.webrtcService=n,this.audioDeviceInfos=[],this.videoDeviceInfos=[],this.supportedConstraints=[],this.constraints={audio:{optional:[]},video:{optional:[]}}}return n.prototype.ngOnInit=function(){var n=this;this.gotSupportedConstraints(),this.webrtcService.enumerateDevices().then((function(l){n.gotDevices(l)}))},n.prototype.gotDevices=function(n){console.log("gotDevices");for(var l=0,e=n;l<e.length;l++){var t=e[l];"audioinput"===t.kind?this.audioDeviceInfos.push(t):"videoinput"===t.kind?this.videoDeviceInfos.push(t):console.log("Found ome other kind of source/device: ",t),console.log(this.audioDeviceInfos,this.videoDeviceInfos)}},n.prototype.gotSupportedConstraints=function(){var n=this.webrtcService.getSupportedConstraints();for(var l in n)n.hasOwnProperty(l)&&this.supportedConstraints.push(l)},n.prototype.onVideoSelectChange=function(n){alert(n),this.constraints.video.optional.push({sourceId:n})},n.prototype.onAudioSelectChange=function(n){this.constraints.audio.optional.push({sourceId:n})},n.prototype.onStart=function(){var n=this;this.webrtcService.getUserMedia(this.constraints).then((function(l){n.handlerStream(l)}))},n.prototype.onStop=function(){this.localStream&&this.localStream.getTracks().forEach((function(n){n.stop()}))},n.prototype.handlerStream=function(n){var l=this;l.localStream=n,window.URL?this.video.nativeElement.src=window.URL.createObjectURL(n):this.video.nativeElement.src=n;var e=function(){requestAnimationFrame(e);var n=l.canvas.nativeElement,t=n.getContext("2d"),o=parseInt(n.style.width),u=parseInt(n.style.height);l.video.nativeElement.readyState===l.video.nativeElement.HAVE_ENOUGH_DATA&&t.drawImage(l.video.nativeElement,0,0,o,u)};e()},n})();t.b([e.i(o._14)("video"),t.c("design:type",o.M)],i.prototype,"video",void 0),t.b([e.i(o._14)("canvas"),t.c("design:type",o.M)],i.prototype,"canvas",void 0),i=t.b([e.i(o._15)({selector:"webrtc",template:'\n    <div class="select">\n      <label for="audioSource">Audio source: </label>\n      <select #audioSelect (change)="onAudioSelectChange(audioSelect.value)">\n        <option *ngFor="let deviceInfo of audioDeviceInfos;" value="{{deviceInfo.deviceId}}">\n          {{deviceInfo.label}}\n        </option>\n      </select>\n    </div>\n    <div class="select">\n      <label for="videoSource">Video source: </label>\n      <select #videoSelect (change)="onVideoSelectChange(videoSelect.value)">\n        <option *ngFor="let deviceInfo of videoDeviceInfos;" value="{{deviceInfo.deviceId}}">\n          {{deviceInfo.label}}\n        </option>\n      </select>\n    </div>\n    <button (click)="onStart()">start </button>\n    <button (click)="onStop()">stop </button>\n    <ul>\n      <ol *ngFor="let constraint of supportedConstraints">\n          {{constraint}}\n      </ol>\n    </ul>\n    <video #video autoplay="true" style="display:none;"></video>\n    <canvas #canvas style="width:640px; height:480px;"></canvas>\n  '}),t.c("design:paramtypes",[u.a])],i)},cASo:function(n,l,e){"use strict";e.d(l,"a",(function(){return d}));var t=e("WVK8"),o=e("dFPQ"),u=e("5f5h"),i=e("P9VG"),c=e("bH9S"),r=e("nVOo"),a=e("MwwH"),s=e("fZrN");console.log("`Person CURD` bundle loaded asynchronously");var d=(function(){function n(){}return n})();d.routes=r.a,d=t.b([e.i(i.z)({declarations:[a.a],imports:[o.c,u.c,c.q.forChild(r.a)],providers:[s.a]})],d)},fZrN:function(n,l,e){"use strict";e.d(l,"a",(function(){return u}));var t=e("WVK8"),o=e("P9VG"),u=(function(){function n(){this.media=navigator.mediaDevices}return n.prototype.enumerateDevices=function(){return this.media.enumerateDevices()},n.prototype.getUserMedia=function(n){return this.media.getUserMedia(n)},n.prototype.getSupportedConstraints=function(){return this.media.getSupportedConstraints()},n})();u=t.b([e.i(o.d)()],u)},jLYF:function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),e.d(l,"WebrtcModuleNgFactory",(function(){return p}));var t=e("WVK8"),o=e("P9VG"),u=e("cASo"),i=e("dFPQ"),c=e("5f5h"),r=e("bH9S"),a=e("fZrN"),s=e("pNJ6"),d=e("MwwH"),_=(function(n){function l(l){return n.call(this,l,[s.a],[])||this}return t.a(l,n),Object.defineProperty(l.prototype,"_NgLocalization_5",{get:function(){return null==this.__NgLocalization_5&&(this.__NgLocalization_5=new i.d(this.parent.get(o.G))),this.__NgLocalization_5},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵi_6",{get:function(){return null==this.__ɵi_6&&(this.__ɵi_6=new c.a),this.__ɵi_6},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_WebrtcService_8",{get:function(){return null==this.__WebrtcService_8&&(this.__WebrtcService_8=new a.a),this.__WebrtcService_8},enumerable:!0,configurable:!0}),l.prototype.createInternal=function(){return this._CommonModule_0=new i.c,this._ɵba_1=new c.b,this._FormsModule_2=new c.c,this._RouterModule_3=new r.q(this.parent.get(r.r,null),this.parent.get(r.j,null)),this._WebrtcModule_4=new u.a,this._ROUTES_7=[[{path:"",component:d.a,pathMatch:"full"}]],this._WebrtcModule_4},l.prototype.getInternal=function(n,l){return n===i.c?this._CommonModule_0:n===c.b?this._ɵba_1:n===c.c?this._FormsModule_2:n===r.q?this._RouterModule_3:n===u.a?this._WebrtcModule_4:n===i.h?this._NgLocalization_5:n===c.a?this._ɵi_6:n===r.u?this._ROUTES_7:n===a.a?this._WebrtcService_8:l},l.prototype.destroyInternal=function(){},l})(o._12),p=new o._13(_,u.a)},nVOo:function(n,l,e){"use strict";e.d(l,"a",(function(){return o}));var t=e("MwwH"),o=[{path:"",component:t.a,pathMatch:"full"}]},pNJ6:function(n,l,e){"use strict";function t(n){return r._17(0,[(n()(),r._18(0,null,null,3,"option",[],null,null,null,null,null)),r._19(147456,null,0,a.d,[r.M,r.N,[8,null]],{value:[0,"value"]},null),r._19(147456,null,0,a.e,[r.M,r.N,[8,null]],{value:[0,"value"]},null),(n()(),r._20(null,["\n          ","\n        "]))],(function(n,l){n(l,1,0,r._21(1,"",l.context.$implicit.deviceId,"")),n(l,2,0,r._21(1,"",l.context.$implicit.deviceId,""))}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function o(n){return r._17(0,[(n()(),r._18(0,null,null,3,"option",[],null,null,null,null,null)),r._19(147456,null,0,a.d,[r.M,r.N,[8,null]],{value:[0,"value"]},null),r._19(147456,null,0,a.e,[r.M,r.N,[8,null]],{value:[0,"value"]},null),(n()(),r._20(null,["\n          ","\n        "]))],(function(n,l){n(l,1,0,r._21(1,"",l.context.$implicit.deviceId,"")),n(l,2,0,r._21(1,"",l.context.$implicit.deviceId,""))}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function u(n){return r._17(0,[(n()(),r._18(0,null,null,1,"ol",[],null,null,null,null,null)),(n()(),r._20(null,["\n          ","\n      "]))],null,(function(n,l){n(l,1,0,l.context.$implicit)}))}function i(n){return r._17(0,[r._22(402653184,1,{video:0}),r._22(402653184,2,{canvas:0}),(n()(),r._20(null,["\n    "])),(n()(),r._18(0,null,null,10,"div",[["class","select"]],null,null,null,null,null)),(n()(),r._20(null,["\n      "])),(n()(),r._18(0,null,null,1,"label",[["for","audioSource"]],null,null,null,null,null)),(n()(),r._20(null,["Audio source: "])),(n()(),r._20(null,["\n      "])),(n()(),r._18(0,[["audioSelect",1]],null,4,"select",[],null,[[null,"change"]],(function(n,l,e){var t=!0,o=n.component;if("change"===l){t=!1!==o.onAudioSelectChange(r._23(n,8).value)&&t}return t}),null,null)),(n()(),r._20(null,["\n        "])),(n()(),r._24(16777216,null,null,1,null,t)),r._19(802816,null,0,d.i,[r.R,r.S,r.K],{ngForOf:[0,"ngForOf"]},null),(n()(),r._20(null,["\n      "])),(n()(),r._20(null,["\n    "])),(n()(),r._20(null,["\n    "])),(n()(),r._18(0,null,null,10,"div",[["class","select"]],null,null,null,null,null)),(n()(),r._20(null,["\n      "])),(n()(),r._18(0,null,null,1,"label",[["for","videoSource"]],null,null,null,null,null)),(n()(),r._20(null,["Video source: "])),(n()(),r._20(null,["\n      "])),(n()(),r._18(0,[["videoSelect",1]],null,4,"select",[],null,[[null,"change"]],(function(n,l,e){var t=!0,o=n.component;if("change"===l){t=!1!==o.onVideoSelectChange(r._23(n,20).value)&&t}return t}),null,null)),(n()(),r._20(null,["\n        "])),(n()(),r._24(16777216,null,null,1,null,o)),r._19(802816,null,0,d.i,[r.R,r.S,r.K],{ngForOf:[0,"ngForOf"]},null),(n()(),r._20(null,["\n      "])),(n()(),r._20(null,["\n    "])),(n()(),r._20(null,["\n    "])),(n()(),r._18(0,null,null,1,"button",[],null,[[null,"click"]],(function(n,l,e){var t=!0,o=n.component;if("click"===l){t=!1!==o.onStart()&&t}return t}),null,null)),(n()(),r._20(null,["start "])),(n()(),r._20(null,["\n    "])),(n()(),r._18(0,null,null,1,"button",[],null,[[null,"click"]],(function(n,l,e){var t=!0,o=n.component;if("click"===l){t=!1!==o.onStop()&&t}return t}),null,null)),(n()(),r._20(null,["stop "])),(n()(),r._20(null,["\n    "])),(n()(),r._18(0,null,null,4,"ul",[],null,null,null,null,null)),(n()(),r._20(null,["\n      "])),(n()(),r._24(16777216,null,null,1,null,u)),r._19(802816,null,0,d.i,[r.R,r.S,r.K],{ngForOf:[0,"ngForOf"]},null),(n()(),r._20(null,["\n    "])),(n()(),r._20(null,["\n    "])),(n()(),r._18(0,[[1,0],["video",1]],null,0,"video",[["autoplay","true"],["style","display:none;"]],null,null,null,null,null)),(n()(),r._20(null,["\n    "])),(n()(),r._18(0,[[2,0],["canvas",1]],null,0,"canvas",[["style","width:640px; height:480px;"]],null,null,null,null,null)),(n()(),r._20(null,["\n  "]))],(function(n,l){var e=l.component;n(l,11,0,e.audioDeviceInfos),n(l,23,0,e.videoDeviceInfos),n(l,36,0,e.supportedConstraints)}),null)}function c(n){return r._17(0,[(n()(),r._18(0,null,null,1,"webrtc",[],null,null,null,i,v)),r._19(114688,null,0,s.a,[_.a],null,null)],(function(n,l){n(l,1,0)}),null)}e.d(l,"a",(function(){return f}));var r=e("P9VG"),a=e("5f5h"),s=e("MwwH"),d=e("dFPQ"),_=e("fZrN"),p=[],v=r._16({encapsulation:2,styles:p,data:{}}),f=r._25("webrtc",s.a,c,{},{},[])}});