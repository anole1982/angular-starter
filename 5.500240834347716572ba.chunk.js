webpackJsonp([5],{MwwH:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o("WVK8"),i=o("vJEw"),r=o("fZrN");console.log("`Web rtc` component loaded asynchronously");var a=(function(){function e(e){this.webrtcService=e,this.audioDeviceInfos=[],this.videoDeviceInfos=[],this.supportedConstraints=[],this.constraints={audio:{optional:[]},video:{optional:[]}}}return e.prototype.ngOnInit=function(){var e=this;this.gotSupportedConstraints(),this.webrtcService.enumerateDevices().then((function(t){e.gotDevices(t)}))},e.prototype.gotDevices=function(e){console.log("gotDevices");for(var t=0,o=e;t<o.length;t++){var n=o[t];"audioinput"===n.kind?this.audioDeviceInfos.push(n):"videoinput"===n.kind?this.videoDeviceInfos.push(n):console.log("Found ome other kind of source/device: ",n),console.log(this.audioDeviceInfos,this.videoDeviceInfos)}},e.prototype.gotSupportedConstraints=function(){var e=this.webrtcService.getSupportedConstraints();for(var t in e)e.hasOwnProperty(t)&&this.supportedConstraints.push(t)},e.prototype.onVideoSelectChange=function(e){alert(e),this.constraints.video.optional.push({sourceId:e})},e.prototype.onAudioSelectChange=function(e){this.constraints.audio.optional.push({sourceId:e})},e.prototype.onStart=function(){var e=this;this.webrtcService.getUserMedia(this.constraints).then((function(t){e.handlerStream(t)}))},e.prototype.onStop=function(){this.localStream&&this.localStream.getTracks().forEach((function(e){e.stop()}))},e.prototype.handlerStream=function(e){var t=this;t.localStream=e,window.URL?this.video.nativeElement.src=window.URL.createObjectURL(e):this.video.nativeElement.src=e;var o=function(){requestAnimationFrame(o);var e=t.canvas.nativeElement,n=e.getContext("2d"),i=parseInt(e.style.width),r=parseInt(e.style.height);t.video.nativeElement.readyState===t.video.nativeElement.HAVE_ENOUGH_DATA&&n.drawImage(t.video.nativeElement,0,0,i,r)};o()},n.b([o.i(i._11)("video"),n.c("design:type",i.M)],e.prototype,"video",void 0),n.b([o.i(i._11)("canvas"),n.c("design:type",i.M)],e.prototype,"canvas",void 0),e=n.b([o.i(i._10)({selector:"webrtc",template:'\n    <div class="select">\n      <label for="audioSource">Audio source: </label>\n      <select #audioSelect (change)="onAudioSelectChange(audioSelect.value)">\n        <option *ngFor="let deviceInfo of audioDeviceInfos;" value="{{deviceInfo.deviceId}}">\n          {{deviceInfo.label}}\n        </option>\n      </select>\n    </div>\n    <div class="select">\n      <label for="videoSource">Video source: </label>\n      <select #videoSelect (change)="onVideoSelectChange(videoSelect.value)">\n        <option *ngFor="let deviceInfo of videoDeviceInfos;" value="{{deviceInfo.deviceId}}">\n          {{deviceInfo.label}}\n        </option>\n      </select>\n    </div>\n    <button (click)="onStart()">start </button>\n    <button (click)="onStop()">stop </button>\n    <ul>\n      <ol *ngFor="let constraint of supportedConstraints">\n          {{constraint}}\n      </ol>\n    </ul>\n    <video #video autoplay="true" style="display:none;"></video>\n    <canvas #canvas style="width:640px; height:480px;"></canvas>\n  '}),n.c("design:paramtypes",[r.a])],e)})()},cASo:function(e,t,o){"use strict";o.d(t,"a",(function(){return v}));var n=o("WVK8"),i=o("Tb5a"),r=o("FvgR"),a=o("vJEw"),s=o("TBLV"),c=o("nVOo"),u=o("MwwH"),d=o("fZrN");console.log("`Person CURD` bundle loaded asynchronously");var v=(function(){function e(){}return e.routes=c.a,e=n.b([o.i(a.z)({declarations:[u.a],imports:[i.d,r.a,s.a.forChild(c.a)],providers:[d.a]})],e)})()},fOoX:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("cASo");o.d(t,"WebrtcModule",(function(){return n.a}))},fZrN:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var n=o("WVK8"),i=o("vJEw"),r=(function(){function e(){this.media=navigator.mediaDevices}return e.prototype.enumerateDevices=function(){return this.media.enumerateDevices()},e.prototype.getUserMedia=function(e){return this.media.getUserMedia(e)},e.prototype.getSupportedConstraints=function(){return this.media.getSupportedConstraints()},e=n.b([o.i(i.c)()],e)})()},nVOo:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o("MwwH"),i=[{path:"",component:n.a,pathMatch:"full"}]}});