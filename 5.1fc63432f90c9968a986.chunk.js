webpackJsonp([5],{MwwH:function(n,l,e){"use strict";e.d(l,"a",(function(){return i}));var t=e("TToO"),o=e("3j3K"),u=e("fZrN");console.log("`Web rtc` component loaded asynchronously");var i=(function(){function n(n){this.webrtcService=n,this.audioDeviceInfos=[],this.videoDeviceInfos=[],this.supportedConstraints=[],this.constraints={audio:{optional:[]},video:{optional:[]}}}return n.prototype.ngOnInit=function(){var n=this;this.gotSupportedConstraints(),this.webrtcService.enumerateDevices().then((function(l){n.gotDevices(l)}))},n.prototype.gotDevices=function(n){console.log("gotDevices");for(var l=0,e=n;l<e.length;l++){var t=e[l];"audioinput"===t.kind?this.audioDeviceInfos.push(t):"videoinput"===t.kind?this.videoDeviceInfos.push(t):console.log("Found ome other kind of source/device: ",t),console.log(this.audioDeviceInfos,this.videoDeviceInfos)}},n.prototype.gotSupportedConstraints=function(){var n=this.webrtcService.getSupportedConstraints();for(var l in n)n.hasOwnProperty(l)&&this.supportedConstraints.push(l)},n.prototype.onVideoSelectChange=function(n){alert(n),this.constraints.video.optional.push({sourceId:n})},n.prototype.onAudioSelectChange=function(n){this.constraints.audio.optional.push({sourceId:n})},n.prototype.onStart=function(){var n=this;this.webrtcService.getUserMedia(this.constraints).then((function(l){n.handlerStream(l)}))},n.prototype.onStop=function(){this.localStream&&this.localStream.getTracks().forEach((function(n){n.stop()}))},n.prototype.handlerStream=function(n){var l=this;l.localStream=n,window.URL?this.video.nativeElement.src=window.URL.createObjectURL(n):this.video.nativeElement.src=n;var e=function(){requestAnimationFrame(e);var n=l.canvas.nativeElement,t=n.getContext("2d"),o=parseInt(n.style.width),u=parseInt(n.style.height);l.video.nativeElement.readyState===l.video.nativeElement.HAVE_ENOUGH_DATA&&t.drawImage(l.video.nativeElement,0,0,o,u)};e()},t.b([e.i(o._30)("video"),t.c("design:type",o.M)],n.prototype,"video",void 0),t.b([e.i(o._30)("canvas"),t.c("design:type",o.M)],n.prototype,"canvas",void 0),n=t.b([e.i(o._15)({selector:"webrtc",template:'\n    <div class="select">\n      <label for="audioSource">Audio source: </label>\n      <select #audioSelect (change)="onAudioSelectChange(audioSelect.value)">\n        <option *ngFor="let deviceInfo of audioDeviceInfos;" value="{{deviceInfo.deviceId}}">\n          {{deviceInfo.label}}\n        </option>\n      </select>\n    </div>\n    <div class="select">\n      <label for="videoSource">Video source: </label>\n      <select #videoSelect (change)="onVideoSelectChange(videoSelect.value)">\n        <option *ngFor="let deviceInfo of videoDeviceInfos;" value="{{deviceInfo.deviceId}}">\n          {{deviceInfo.label}}\n        </option>\n      </select>\n    </div>\n    <button (click)="onStart()">start </button>\n    <button (click)="onStop()">stop </button>\n    <ul>\n      <ol *ngFor="let constraint of supportedConstraints">\n          {{constraint}}\n      </ol>\n    </ul>\n    <video #video autoplay="true" style="display:none;"></video>\n    <canvas #canvas style="width:640px; height:480px;"></canvas>\n  '}),t.c("design:paramtypes",[u.a])],n)})()},cASo:function(n,l,e){"use strict";e.d(l,"a",(function(){return d}));var t=e("TToO"),o=e("2Je8"),u=e("NVOs"),i=e("3j3K"),c=e("5oXY"),a=e("nVOo"),r=e("MwwH"),s=e("fZrN");console.log("`Person CURD` bundle loaded asynchronously");var d=(function(){function n(){}return n.routes=a.a,n=t.b([e.i(i.z)({declarations:[r.a],imports:[o.d,u.c,c.x.forChild(a.a)],providers:[s.a]})],n)})()},fZrN:function(n,l,e){"use strict";e.d(l,"a",(function(){return u}));var t=e("TToO"),o=e("3j3K"),u=(function(){function n(){this.media=navigator.mediaDevices}return n.prototype.enumerateDevices=function(){return this.media.enumerateDevices()},n.prototype.getUserMedia=function(n){return this.media.getUserMedia(n)},n.prototype.getSupportedConstraints=function(){return this.media.getSupportedConstraints()},n=t.b([e.i(o.c)()],n)})()},jLYF:function(n,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),e.d(l,"WebrtcModuleNgFactory",(function(){return d}));var t=e("3j3K"),o=e("cASo"),u=e("pNJ6"),i=e("2Je8"),c=e("NVOs"),a=e("fZrN"),r=e("5oXY"),s=e("MwwH"),d=t._0(o.a,[],(function(n){return t._1([t._2(512,t.Q,t._3,[[8,[u.a]],[3,t.Q],t.P]),t._2(4608,i.e,i.f,[t.G]),t._2(4608,c.a,c.a,[]),t._2(4608,a.a,a.a,[]),t._2(512,i.d,i.d,[]),t._2(512,c.b,c.b,[]),t._2(512,c.c,c.c,[]),t._2(512,r.x,r.x,[[2,r.m],[2,r.c]]),t._2(512,o.a,o.a,[]),t._2(1024,r.t,(function(){return[[{path:"",component:s.a,pathMatch:"full"}]]}),[])])}))},nVOo:function(n,l,e){"use strict";e.d(l,"a",(function(){return o}));var t=e("MwwH"),o=[{path:"",component:t.a,pathMatch:"full"}]},pNJ6:function(n,l,e){"use strict";function t(n){return a._17(0,[(n()(),a._19(0,null,null,3,"option",[],null,null,null,null,null)),a._21(147456,null,0,r.k,[a.M,a.N,[8,null]],{value:[0,"value"]},null),a._21(147456,null,0,r.l,[a.M,a.N,[8,null]],{value:[0,"value"]},null),(n()(),a._18(null,["\n          ","\n        "]))],(function(n,l){n(l,1,0,a._31(1,"",l.context.$implicit.deviceId,"")),n(l,2,0,a._31(1,"",l.context.$implicit.deviceId,""))}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function o(n){return a._17(0,[(n()(),a._19(0,null,null,3,"option",[],null,null,null,null,null)),a._21(147456,null,0,r.k,[a.M,a.N,[8,null]],{value:[0,"value"]},null),a._21(147456,null,0,r.l,[a.M,a.N,[8,null]],{value:[0,"value"]},null),(n()(),a._18(null,["\n          ","\n        "]))],(function(n,l){n(l,1,0,a._31(1,"",l.context.$implicit.deviceId,"")),n(l,2,0,a._31(1,"",l.context.$implicit.deviceId,""))}),(function(n,l){n(l,3,0,l.context.$implicit.label)}))}function u(n){return a._17(0,[(n()(),a._19(0,null,null,1,"ol",[],null,null,null,null,null)),(n()(),a._18(null,["\n          ","\n      "]))],null,(function(n,l){n(l,1,0,l.context.$implicit)}))}function i(n){return a._17(0,[a._32(402653184,1,{video:0}),a._32(402653184,2,{canvas:0}),(n()(),a._18(null,["\n    "])),(n()(),a._19(0,null,null,10,"div",[["class","select"]],null,null,null,null,null)),(n()(),a._18(null,["\n      "])),(n()(),a._19(0,null,null,1,"label",[["for","audioSource"]],null,null,null,null,null)),(n()(),a._18(null,["Audio source: "])),(n()(),a._18(null,["\n      "])),(n()(),a._19(0,[["audioSelect",1]],null,4,"select",[],null,[[null,"change"]],(function(n,l,e){var t=!0,o=n.component;if("change"===l){t=!1!==o.onAudioSelectChange(a._20(n,8).value)&&t}return t}),null,null)),(n()(),a._18(null,["\n        "])),(n()(),a._33(16777216,null,null,1,null,t)),a._21(802816,null,0,d.k,[a.R,a.S,a.K],{ngForOf:[0,"ngForOf"]},null),(n()(),a._18(null,["\n      "])),(n()(),a._18(null,["\n    "])),(n()(),a._18(null,["\n    "])),(n()(),a._19(0,null,null,10,"div",[["class","select"]],null,null,null,null,null)),(n()(),a._18(null,["\n      "])),(n()(),a._19(0,null,null,1,"label",[["for","videoSource"]],null,null,null,null,null)),(n()(),a._18(null,["Video source: "])),(n()(),a._18(null,["\n      "])),(n()(),a._19(0,[["videoSelect",1]],null,4,"select",[],null,[[null,"change"]],(function(n,l,e){var t=!0,o=n.component;if("change"===l){t=!1!==o.onVideoSelectChange(a._20(n,20).value)&&t}return t}),null,null)),(n()(),a._18(null,["\n        "])),(n()(),a._33(16777216,null,null,1,null,o)),a._21(802816,null,0,d.k,[a.R,a.S,a.K],{ngForOf:[0,"ngForOf"]},null),(n()(),a._18(null,["\n      "])),(n()(),a._18(null,["\n    "])),(n()(),a._18(null,["\n    "])),(n()(),a._19(0,null,null,1,"button",[],null,[[null,"click"]],(function(n,l,e){var t=!0,o=n.component;if("click"===l){t=!1!==o.onStart()&&t}return t}),null,null)),(n()(),a._18(null,["start "])),(n()(),a._18(null,["\n    "])),(n()(),a._19(0,null,null,1,"button",[],null,[[null,"click"]],(function(n,l,e){var t=!0,o=n.component;if("click"===l){t=!1!==o.onStop()&&t}return t}),null,null)),(n()(),a._18(null,["stop "])),(n()(),a._18(null,["\n    "])),(n()(),a._19(0,null,null,4,"ul",[],null,null,null,null,null)),(n()(),a._18(null,["\n      "])),(n()(),a._33(16777216,null,null,1,null,u)),a._21(802816,null,0,d.k,[a.R,a.S,a.K],{ngForOf:[0,"ngForOf"]},null),(n()(),a._18(null,["\n    "])),(n()(),a._18(null,["\n    "])),(n()(),a._19(0,[[1,0],["video",1]],null,0,"video",[["autoplay","true"],["style","display:none;"]],null,null,null,null,null)),(n()(),a._18(null,["\n    "])),(n()(),a._19(0,[[2,0],["canvas",1]],null,0,"canvas",[["style","width:640px; height:480px;"]],null,null,null,null,null)),(n()(),a._18(null,["\n  "]))],(function(n,l){var e=l.component;n(l,11,0,e.audioDeviceInfos),n(l,23,0,e.videoDeviceInfos),n(l,36,0,e.supportedConstraints)}),null)}function c(n){return a._17(0,[(n()(),a._19(0,null,null,1,"webrtc",[],null,null,null,i,f)),a._21(114688,null,0,s.a,[v.a],null,null)],(function(n,l){n(l,1,0)}),null)}e.d(l,"a",(function(){return _}));var a=e("3j3K"),r=e("NVOs"),s=e("MwwH"),d=e("2Je8"),v=e("fZrN"),p=[],f=a._16({encapsulation:2,styles:p,data:{}}),_=a._25("webrtc",s.a,c,{},{},[])}});